<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∞–Ω–∫-–ø—Ä–æ–≥—É–ª–∫–∞</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }
        
        .game-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-top: 20px;
        }
        
        h1 {
            color: #ff6b6b;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .scene {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #ff6b6b;
            min-height: 150px;
        }
        
        .choices {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-top: 20px;
        }
        
        button {
            background: #4ecdc4;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        button:hover {
            background: #45b7af;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .health-bar {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e);
            width: 100%;
            transition: width 0.5s ease;
        }
        
        .prank-counter {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #ff6b6b;
            font-weight: bold;
        }
        
        .game-over {
            text-align: center;
            padding: 40px;
        }
        
        .game-over h2 {
            color: #ff6b6b;
            font-size: 2em;
        }
        
        .hidden {
            display: none;
        }
        
        .prank-effect {
            animation: shake 0.5s ease-in-out;
            color: #ff6b6b;
            font-weight: bold;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .inventory {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .inventory-item {
            background: #ffe66d;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            border: 2px dashed #ffd700;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üëª –ü—Ä–∞–Ω–∫-–ü—Ä–æ–≥—É–ª–∫–∞ üëª</h1>
        
        <div class="prank-counter">–ü—Ä–∞–Ω–∫–æ–≤ –ø–µ—Ä–µ–∂–∏—Ç–æ: <span id="prankCount">0</span></div>
        <div class="health-bar">
            <div class="health-fill" id="healthBar" style="width: 100%;"></div>
        </div>
        
        <div class="inventory" id="inventory"></div>
        
        <div id="gameScreen">
            <div class="scene" id="scene">
                <p>–°–∞—à–∞ –≤—ã—à–µ–ª –≤–µ—á–µ—Ä–æ–º –ø–æ–≥—É–ª—è—Ç—å —Å–æ —Å–≤–æ–µ–π —Å–æ–±–∞–∫–æ–π –ë—è—à–µ–π. –≠—Ç–æ –±—ã–ª –æ–¥–∏–Ω –∏–∑ –ø—Ä–∏—è—Ç–Ω—ã—Ö —Ç–µ–ø–ª—ã—Ö –≤–µ—á–µ—Ä–æ–≤. –ö–∞–∫ –≤–¥—Ä—É–≥ –µ–º—É –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω –ø—Ä–∏—à–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–∞ –ì—Ä–∏—à–∏....</p>
            </div>
            
            <div class="choices" id="choices">
                <button onclick="makeChoice('ignore')">–ü—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ</button>
                <button onclick="makeChoice('read')">–û—Ç–∫—Ä—ã—Ç—å –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
            </div>
        </div>
        
        <div id="gameOverScreen" class="game-over hidden">
            <h2 id="gameOverTitle">–ò–≥—Ä–∞ –û–∫–æ–Ω—á–µ–Ω–∞!</h2>
            <p id="gameOverText"></p>
            <button onclick="restartGame()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <script>
        let gameState = {
            health: 100,
            prankCount: 0,
            inventory: [],
            currentScene: 'start',
            hasUmbrella: false,
            hasGlasses: false
        };

        const scenes = {
            start: {
                text: "–°–∞—à–∞ –≤—ã—à–µ–ª –≤–µ—á–µ—Ä–æ–º –ø–æ–≥—É–ª—è—Ç—å —Å–æ —Å–≤–æ–µ–π —Å–æ–±–∞–∫–æ–π –ë—è—à–µ–π. –≠—Ç–æ –±—ã–ª –æ–¥–∏–Ω –∏–∑ –ø—Ä–∏—è—Ç–Ω—ã—Ö —Ç–µ–ø–ª—ã—Ö –≤–µ—á–µ—Ä–æ–≤. –ö–∞–∫ –≤–¥—Ä—É–≥ –µ–º—É –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω –ø—Ä–∏—à–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–∞ –ì—Ä–∏—à–∏....",
                choices: [
                    { text: "–ü—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ", next: "ignore" },
                    { text: "–û—Ç–∫—Ä—ã—Ç—å –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ", next: "read" }
                ]
            },
            
            ignore: {
                text: "–°–∞—à–∞ –ø–æ—à–µ–ª –≥—É–ª—è—Ç—å —Å —Å–æ–±–∞–∫–æ–π –¥–∞–ª—å—à–µ. –≠—Ç–æ—Ç –≤–µ—á–µ—Ä –ø—Ä–æ—à–µ–ª —Ç–∞–∫–∂–µ –æ–¥–Ω–æ–æ–±—Ä–∞–∑–Ω–æ –∫–∞–∫ –∏ –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ.",
                choices: [
                    { text: "–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ", next: "restart" }
                ]
            },
            
            read: {
                text: "–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ì—Ä–∏—à–∏: '–°—Ä–æ—á–Ω–æ –ø—Ä–∏–π–¥–∏ –≤ –ø–∞—Ä–∫! –¢–∞–º —Ç–∞–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç!'",
                choices: [
                    { text: "–ò–¥—Ç–∏ –∫–æ—Ä–æ—Ç–∫–æ–π –¥–æ—Ä–æ–≥–æ–π —á–µ—Ä–µ–∑ —Ç–µ–º–Ω—ã–π –ø–µ—Ä–µ—É–ª–æ–∫", next: "alley" },
                    { text: "–í—ã–±—Ä–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–π –ø—É—Ç—å —á–µ—Ä–µ–∑ –ª—é–¥–Ω—ã–π –ø—Ä–æ—Å–ø–µ–∫—Ç", next: "street" },
                    { text: "–ü–æ–∑–≤–æ–Ω–∏—Ç—å –¥—Ä—É–∑—å—è–º –∏ —É—Ç–æ—á–Ω–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç", next: "call" }
                ]
            },
            
            alley: {
                text: "–í —Ç–µ–º–Ω–æ–º –ø–µ—Ä–µ—É–ª–∫–µ –Ω–∞ —Ç–µ–±—è —Å –∫—Ä—ã—à–∏ –ø–∞–¥–∞–µ—Ç –≤–µ–¥—Ä–æ —Å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏! –¢—ã –≤–µ—Å—å –≤ –±–ª–µ—Å—Ç–∫–∞—Ö.",
                effect: { health: -10, prank: true },
                choices: [
                    { text: "–°—Ç—Ä—è—Ö–Ω—É—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å", next: "alley2" },
                    { text: "–û—Å–º–æ—Ç—Ä–µ—Ç—å –∫—Ä—ã—à—É", next: "roof" },
                    { text: "–í–µ—Ä–Ω—É—Ç—å—Å—è –∏ –ø–æ–π—Ç–∏ –¥—Ä—É–≥–æ–π –¥–æ—Ä–æ–≥–æ–π", next: "street" }
                ]
            },
            
            alley2: {
                text: "–ò–∑-–∑–∞ —É–≥–ª–∞ –≤—ã—Å–∫–∞–∫–∏–≤–∞–µ—Ç –¥—Ä—É–≥ —Å –∫—Ä–∏–∫–æ–º '–°—é—Ä–ø—Ä–∏–∑!' –¢—ã –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–µ—à—å –æ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–∏.",
                effect: { health: -15, prank: true },
                choices: [
                    { text: "–ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–¥—Ç–∏, –∏–≥–Ω–æ—Ä–∏—Ä—É—è —à—É—Ç–∫–∏", next: "park" },
                    { text: "–ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –Ω–∞–π—Ç–∏ –æ–±–∏–¥—á–∏–∫–∞", next: "chase" }
                ]
            },
            
            street: {
                text: "–ù–∞ –ª—é–¥–Ω–æ–º –ø—Ä–æ—Å–ø–µ–∫—Ç–µ –∫ —Ç–µ–±–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –Ω–µ–∑–Ω–∞–∫–æ–º–µ—Ü –∏ –≤—Ä—É—á–∞–µ—Ç —Ü–≤–µ—Ç–æ–∫. –¢—ã –±–µ—Ä–µ—à—å –µ–≥–æ, –∏ –≤–¥—Ä—É–≥ —Ä–∞–∑–¥–∞–µ—Ç—Å—è —Ö–ª–æ–ø–æ–∫ - —ç—Ç–æ —Ö–ª–æ–ø—É—à–∫–∞!",
                effect: { health: -5, prank: true },
                choices: [
                    { text: "–ë—ã—Å—Ç—Ä–æ –ø—Ä–æ–π—Ç–∏ –¥–∞–ª—å—à–µ", next: "street2" },
                    { text: "–°–ø—Ä—è—Ç–∞—Ç—å—Å—è –≤ –∫–∞—Ñ–µ", next: "cafe" }
                ]
            },
            
            street2: {
                text: "–í–æ–∑–ª–µ –∫–∏–æ—Å–∫–∞ —Ç—ã –Ω–∞—Å—Ç—É–ø–∞–µ—à—å –Ω–∞ —á—Ç–æ-—Ç–æ –º—è–≥–∫–æ–µ... –≠—Ç–æ –æ–∫–∞–∑–∞–ª–∞—Å—å –ø–æ–¥–ª–æ–∂–µ–Ω–Ω–∞—è –º—ã—à–µ–ª–æ–≤–∫–∞-—à—É—Ç–∫–∞! –•–æ—Ç—è –±–µ–∑–≤—Ä–µ–¥–Ω–æ, –Ω–æ –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ.",
                effect: { health: -10, prank: true },
                choices: [
                    { text: "–û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ", next: "suspicious" },
                    { text: "–£—Å–∫–æ—Ä–∏—Ç—å —à–∞–≥", next: "park" }
                ]
            },
            
            call: {
                text: "–¢—ã –∑–≤–æ–Ω–∏—à—å –¥—Ä—É–∑—å—è–º. –û–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ –∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç—è—Ç –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è. –ù–æ –≤ –∏—Ö –≥–æ–ª–æ—Å–∞—Ö —Å–ª—ã—à–∏—Ç—Å—è —Å—Ç—Ä–∞–Ω–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ...",
                choices: [
                    { text: "–ü–æ–≤–µ—Ä–∏—Ç—å –∏–º –∏ –∏–¥—Ç–∏", next: "trust" },
                    { text: "–†–µ—à–∏—Ç—å, —á—Ç–æ —ç—Ç–æ –ª–æ–≤—É—à–∫–∞, –∏ –ø–æ–π—Ç–∏ –¥–æ–º–æ–π", next: "home" }
                ]
            },
            
            trust: {
                text: "–ü–æ –¥–æ—Ä–æ–≥–µ —Ç—ã –∑–∞–º–µ—á–∞–µ—à—å —Ç–µ–Ω–∏, –ø–µ—Ä–µ–º–µ—â–∞—é—â–∏–µ—Å—è –º–µ–∂–¥—É –¥–µ—Ä–µ–≤—å—è–º–∏. –î—Ä—É–∑—å—è —è–≤–Ω–æ —á—Ç–æ-—Ç–æ –∑–∞—Ç–µ—è–ª–∏...",
                choices: [
                    { text: "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø—É—Ç—å", next: "park" },
                    { text: "–ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–±–æ–π—Ç–∏ –ø–∞—Ä–∫ —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã", next: "back_entrance" }
                ]
            },
            
            roof: {
                text: "–¢—ã –∑–∞–±–∏—Ä–∞–µ—à—å—Å—è –Ω–∞ –∫—Ä—ã—à—É –∏ –Ω–∞—Ö–æ–¥–∏—à—å —Ç–∞–º –∑–∞–ø–∏—Å–∫—É: '–ú—ã –∑–Ω–∞–ª–∏, —á—Ç–æ —Ç—ã –ø–æ–ª–µ–∑–µ—à—å –ø—Ä–æ–≤–µ—Ä—è—Ç—å! –ü—Ä–∞–Ω–∫ —É–¥–∞–ª—Å—è –≤–¥–≤–æ–π–Ω–µ!'",
                effect: { health: -5, prank: true },
                choices: [
                    { text: "–°–ø—É—Å—Ç–∏—Ç—å—Å—è –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å", next: "alley2" }
                ]
            },
            
            chase: {
                text: "–¢—ã –±–µ–∂–∏—à—å –∑–∞ —Ç–µ–Ω—å—é, –Ω–æ –Ω–∞—Ç—ã–∫–∞–µ—à—å—Å—è –Ω–∞ –Ω–∞—Ç—è–Ω—É—Ç—É—é –≤–µ—Ä–µ–≤–∫—É –∏ –ø–∞–¥–∞–µ—à—å –≤ –∫—É—á—É –ª–∏—Å—Ç—å–µ–≤. –°–≤–µ—Ä—Ö—É —Ä–∞–∑–¥–∞–µ—Ç—Å—è —Å–º–µ—Ö.",
                effect: { health: -20, prank: true },
                choices: [
                    { text: "–°–¥–∞—Ç—å—Å—è –∏ –∏–¥—Ç–∏ –≤ –ø–∞—Ä–∫", next: "park" },
                    { text: "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞–π—Ç–∏ –¥—Ä—É–≥–æ–π –ø—É—Ç—å", next: "back_entrance" }
                ]
            },
            
            cafe: {
                text: "–í –∫–∞—Ñ–µ —Ç—ã –∑–∞–∫–∞–∑—ã–≤–∞–µ—à—å –∫–æ—Ñ–µ, –Ω–æ –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å —Å–∞—Ö–∞—Ä–Ω–∏—Ü—É - –æ—Ç—Ç—É–¥–∞ –≤—ã–ø—Ä—ã–≥–∏–≤–∞–µ—Ç —Ä–µ–∑–∏–Ω–æ–≤–∞—è –∑–º–µ—è! –ë–∞—Ä–∏—Å—Ç–∞ —Å–º–µ–µ—Ç—Å—è - —ç—Ç–æ –±—ã–ª –µ–≥–æ –¥—Ä—É–≥.",
                effect: { health: -10, prank: true },
                getItem: "umbrella",
                choices: [
                    { text: "–í–∑—è—Ç—å –∑–æ–Ω—Ç —É –≤—Ö–æ–¥–∞ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π) –∏ –≤—ã–π—Ç–∏", next: "street2" },
                    { text: "–í—ã–π—Ç–∏ –±–µ–∑ –∑–æ–Ω—Ç–∞", next: "street2" }
                ]
            },
            
            suspicious: {
                text: "–¢—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—à—å—Å—è –∏ –∑–∞–º–µ—á–∞–µ—Çe –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—É—é –∫ –¥–µ—Ä–µ–≤—É –≤–µ—Ä–µ–≤–∫—É. –ö–∞–∂–µ—Ç—Å—è, —Ç—ã –∏–∑–±–µ–∂–∞–ª –æ—á–µ—Ä–µ–¥–Ω–æ–π –ª–æ–≤—É—à–∫–∏!",
                getItem: "glasses",
                choices: [
                    { text: "–í–∑—è—Ç—å —Å–æ–ª–Ω–µ—á–Ω—ã–µ –æ—á–∫–∏ –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏", next: "park" },
                    { text: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –æ—á–∫–æ–≤", next: "park" }
                ]
            },
            
            back_entrance: {
                text: "–¢—ã –ø–æ–¥—Ö–æ–¥–∏—à—å –∫ –ø–∞—Ä–∫—É —Å –∑–∞–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞. –ö–∞–∂–µ—Ç—Å—è, —Ç–µ–±—è –Ω–∏–∫—Ç–æ –Ω–µ –∑–∞–º–µ—Ç–∏–ª... –ù–æ –≤–¥—Ä—É–≥ –∏–∑ –∫—É—Å—Ç–æ–≤ –≤—ã–ø—Ä—ã–≥–∏–≤–∞—é—Ç –≤—Å–µ —Ç–≤–æ–∏ –¥—Ä—É–∑—å—è —Å –∫—Ä–∏–∫–æ–º '–° –î–ù–ï–ú –†–û–ñ–î–ï–ù–ò–Ø!' –û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, —ç—Ç–æ –±—ã–ª —Å—é—Ä–ø—Ä–∏–∑, –∞ –Ω–µ –ø—Ä–∞–Ω–∫!",
                choices: [
                    { text: "üéâ –û—Ç–ø—Ä–∞–∑–¥–Ω–æ–≤–∞—Ç—å!", next: "win" }
                ]
            },
            
            park: {
                text: "–¢—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å –≤ –ø–∞—Ä–∫. –í–¥—Ä—É–≥ –≤—Å–µ —Ñ–æ–Ω–∞—Ä–∏ –≥–∞—Å–Ω—É—Ç, –∏ –Ω–∞ —Ç–µ–±—è –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–µ—Å—è—Ç–∫–∏ —Å–≤–µ—Ç—è—â–∏—Ö—Å—è –≥–ª–∞–∑... –≠—Ç–æ —Ç–≤–æ–∏ –¥—Ä—É–∑—å—è —Å —Ñ–æ–Ω–∞—Ä–∏–∫–∞–º–∏ –ø–æ–¥ –≥–ª–∞–∑–∞–º–∏! –¢—ã –ø—É–≥–∞–µ—à—å—Å—è –¥–æ —Å–º–µ—Ä—Ç–∏.",
                effect: { health: -30, prank: true },
                choices: [
                    { text: "–ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–±–µ–∂–∞—Ç—å", next: "escape" },
                    { text: "–°–º–∏—Ä–∏—Ç—å—Å—è —Å —Å–≤–æ–µ–π —Å—É–¥—å–±–æ–π", next: "accept" }
                ]
            },
            
            home: {
                text: "–¢—ã —Ä–µ—à–∞–µ—à—å, —á—Ç–æ —Å–µ–≥–æ–¥–Ω—è –Ω–µ –ª—É—á—à–∏–π –¥–µ–Ω—å –¥–ª—è –≤—Å—Ç—Ä–µ—á, –∏ –∏–¥–µ—à—å –¥–æ–º–æ–π. –í–µ—á–µ—Ä–æ–º –¥—Ä—É–∑—å—è –ø–∏—à—É—Ç, —á—Ç–æ —É –Ω–∏—Ö –±—ã–ª –¥–ª—è —Ç–µ–±—è —Å—é—Ä–ø—Ä–∏–∑. –ú–æ–∂–µ—Ç, —Ç—ã —Å–ª–∏—à–∫–æ–º –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π?",
                choices: [
                    { text: "–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ", next: "restart" }
                ]
            },
            
            escape: {
                text: "–¢—ã –±–µ–∂–∏—à—å –∏–∑ –ø–∞—Ä–∫–∞, –Ω–æ —Å–ø–æ—Ç—ã–∫–∞–µ—à—å—Å—è –æ –Ω–∞—Ç—è–Ω—É—Ç—É—é –ª–µ—Å–∫—É –∏ –ø–∞–¥–∞–µ—à—å –ø—Ä—è–º–æ –≤ –æ–≥—Ä–æ–º–Ω—ã–π —Ç–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥—Ä—É–∑—å—è –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∏ –¥–ª—è –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è. –¢–µ–ø–µ—Ä—å —Ç—ã –≤–µ—Å—å –≤ –∫—Ä–µ–º–µ!",
                effect: { health: -25 },
                choices: [
                    { text: "–°–¥–∞—Ç—å—Å—è –∏ —Å–º–µ—è—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å–æ –≤—Å–µ–º–∏", next: "win" }
                ]
            },
            
            accept: {
                text: "–¢—ã —Å—Ç–æ–∏—à—å –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—à—å —Å–≤–æ—é —Å—É–¥—å–±—É. –î—Ä—É–∑—å—è –æ–∫—Ä—É–∂–∞—é—Ç —Ç–µ–±—è —Å –ø–æ–¥–∞—Ä–∫–∞–º–∏ –∏ —Ç–æ—Ä—Ç–æ–º - –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –æ–Ω–∏ —É—Å—Ç—Ä–æ–∏–ª–∏ –∫–≤–µ—Å—Ç —Å –ø—Ä–∞–Ω–∫–∞–º–∏ –¥–ª—è —Ç–≤–æ–µ–≥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è!",
                choices: [
                    { text: "üéÇ –û—Ç–ø—Ä–∞–∑–¥–Ω–æ–≤–∞—Ç—å –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è!", next: "win" }
                ]
            },
            
            win: {
                text: "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢—ã –ø–µ—Ä–µ–∂–∏–ª –≤—Å–µ –ø—Ä–∞–Ω–∫–∏ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ —ç—Ç–æ –±—ã–ª —Å—é—Ä–ø—Ä–∏–∑ –Ω–∞ —Ç–≤–æ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è! –î—Ä—É–∑—å—è –ø—Ä–∏–∑–Ω–∞—é—Ç—Å—è, —á—Ç–æ maybe –ø–µ—Ä–µ–±–æ—Ä—â–∏–ª–∏ —Å —à—É—Ç–∫–∞–º–∏, –Ω–æ –≤—Å–µ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å –≤–µ—Å–µ–ª–æ–π –≤–µ—á–µ—Ä–∏–Ω–∫–æ–π.",
                choices: [
                    { text: "–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ", next: "restart" }
                ]
            }
        };

        function updateGame() {
            const scene = scenes[gameState.currentScene];
            document.getElementById('scene').innerHTML = `<p>${scene.text}</p>`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–¥–æ—Ä–æ–≤—å–µ
            document.getElementById('healthBar').style.width = `${gameState.health}%`;
            document.getElementById('prankCount').textContent = gameState.prankCount;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
            updateInventory();
            
            // –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞
            const choicesContainer = document.getElementById('choices');
            choicesContainer.innerHTML = '';
            
            scene.choices.forEach(choice => {
                const button = document.createElement('button');
                button.textContent = choice.text;
                button.onclick = () => makeChoice(choice.next);
                choicesContainer.appendChild(button);
            });
        }

        function makeChoice(nextScene) {
            const scene = scenes[gameState.currentScene];
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã —Å—Ü–µ–Ω—ã
            if (scene.effect) {
                if (scene.effect.health) {
                    gameState.health += scene.effect.health;
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞
                    const sceneElement = document.getElementById('scene');
                    sceneElement.classList.add('prank-effect');
                    setTimeout(() => {
                        sceneElement.classList.remove('prank-effect');
                    }, 500);
                }
                
                if (scene.effect.prank) {
                    gameState.prankCount++;
                }
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–¥–º–µ—Ç—ã
            if (scene.getItem && !gameState.inventory.includes(scene.getItem)) {
                gameState.inventory.push(scene.getItem);
                if (scene.getItem === 'umbrella') gameState.hasUmbrella = true;
                if (scene.getItem === 'glasses') gameState.hasGlasses = true;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–¥–æ—Ä–æ–≤—å–µ
            if (gameState.health <= 0) {
                gameOver("–¢—ã –Ω–µ –≤—ã–¥–µ—Ä–∂–∞–ª —ç—Ç–æ–≥–æ –∏–∑–¥–µ–≤–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –ø–æ—Ç–µ—Ä—è–ª —Å–æ–∑–Ω–∞–Ω–∏–µ –æ—Ç —Å—Ç—Ä–µ—Å—Å–∞. –î—Ä—É–∑—å—è –ø–æ–∂–∞–ª–µ–ª–∏, —á—Ç–æ –ø–µ—Ä–µ–±–æ—Ä—â–∏–ª–∏ —Å –ø—Ä–∞–Ω–∫–∞–º–∏.");
                return;
            }
            
            // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ü–µ–Ω–µ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
            if (nextScene === 'restart') {
                restartGame();
                return;
            }
            
            gameState.currentScene = nextScene;
            updateGame();
        }

        function updateInventory() {
            const inventoryContainer = document.getElementById('inventory');
            inventoryContainer.innerHTML = '';
            
            if (gameState.hasUmbrella) {
                const item = document.createElement('div');
                item.className = 'inventory-item';
                item.textContent = '‚òÇÔ∏è –ó–æ–Ω—Ç';
                inventoryContainer.appendChild(item);
            }
            
            if (gameState.hasGlasses) {
                const item = document.createElement('div');
                item.className = 'inventory-item';
                item.textContent = 'üòé –û—á–∫–∏';
                inventoryContainer.appendChild(item);
            }
        }

        function gameOver(message) {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('gameOverScreen').classList.remove('hidden');
            document.getElementById('gameOverTitle').textContent = "–ò–≥—Ä–∞ –û–∫–æ–Ω—á–µ–Ω–∞!";
            document.getElementById('gameOverText').textContent = `${message} –¢—ã –ø–µ—Ä–µ–∂–∏–ª ${gameState.prankCount} –ø—Ä–∞–Ω–∫–æ–≤.`;
        }

        function restartGame() {
            gameState = {
                health: 100,
                prankCount: 0,
                inventory: [],
                currentScene: 'start',
                hasUmbrella: false,
                hasGlasses: false
            };
            
            document.getElementById('gameOverScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            updateGame();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        updateGame();
    </script>
</body>
</html>
